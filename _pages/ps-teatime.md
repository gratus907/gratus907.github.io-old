---
title: "PS Teatime"
permalink: /ps-teatime/
layout: single
author_profile: true
---

하루에 한문제씩 PS 풀만한거 공유하는 (요새는 그거보단 그냥 대회 시즌 되면 다른 얘기가 더 많지만) 오픈채팅방이 있는데, 뭔가 매일 하나씩 풀이를 쓰면 이런거 쓰는 연습도 될거같고 해서 매일 풀고 정말 간단하게만 정리하려고 합니다. 

- 각 문제의 풀이는 접어놓은 부분을 클릭해서 확인할 수 있습니다. 
- 구현 코드는 (거의 모두) [Github Repo](https://github.com/gratus907/Gratus_PS) 에서 볼 수 있습니다. 
- 접어놓은 부분을 폈을때 처음에 출처가 나오면 레포의 해당 대회를 찾아가면 되고, 출처가 없으면 BOJ Originals 에 들어 있습니다 (ex : 수쿼 시리즈 등)

<details> <summary markdown = span> <b>2021년 7월 30일 : <a href = "http://boj.kr/14370">BOJ 14370</a> 전화번호 수수께끼 (Large)</b> </summary>
- Google Codejam 2016 Round 1B : A번 Getting the Digits
- 난이도 Gold III 
- 행렬 `A[i][j]` 를 i번째 알파벳이 숫자 j에서 몇번 나타나는지를 셌다고 생각합니다.
- 벡터 `x[j]`를 j번째 숫자(ZERO-NINE까지) 가 몇번 나타나는지를 셌다고 생각합니다.
- 벡터 `b[i]`를 결과물 (마구 섞은 문자열) 에서 i번째 알파벳이 몇번 나타나는지를 셌다고 생각합니다.
- 이제, 우리는 $x$외의 $A, b$는 알고 있으며, $Ax = b$를 자연수 위에서 풀면 됩니다.
- 다만, 26 * 10 행렬 $A$, 10개짜리 벡터 $x$로 26개짜리 벡터 $b$를 만들어야 합니다.
- 그냥 Gaussian Elimination을 잘 짜도 되긴 하는데...
- 약간의 선형대수를 공부했다면, $Ax = b$의 해는 $A^T A x = A^T b$ 의 해이므로 이를 대신 푸는 방법 (Least Square method 라고도 합니다) 이 Overdetermined system을 푸는 데도 사용 가능함을 알 수 있습니다.
- 이는 정사각행렬의 가우스 소거법만으로 해결 가능하므로, 구현하면 됩니다. 해가 있음을 알고 있으므로 0으로 나누는 예외도 처리하지 않아도 됩니다.
- 여담 : 가우스 소거법의 난이도가 골드 3인가? 해서 정해를 찾아봤습니다. 정해에서는, ZERO에는 Z가 유일하고, SIX에는 X가 유일하고... 해서 유일한 알파벳을 가진 것들을 먼저 파악하고, 이들을 이용하여 순서를 잘 짜맞추면 쉽게 계산할 수 있음을 이용하는 Ad-Hoc 풀이가 정해인듯 합니다. 
</details>

<details> <summary markdown = span> <b>2021년 7월 31일 : <a href = "http://boj.kr/5529">BOJ 5529</a> 저택</b> </summary>
- JOI 2013 Problem 3 現代的な屋敷 (Modern Mansion)
- 난이도 Platinum V
- 비교적 흔히 보이는 정점 복사해서 다익스트라 돌리는 문제입니다.
- 각 칸은 본래 세로로 움직일 수 있는 정점(원래의 집)으로 생각할 수 있는데, 여기에 가로로 움직일 수 있는 정점(거울세계의 집? ㅋㅋㅋㅋ) 을 하나씩 복사합니다. 
- 칸수가 $MN$개이므로, 우리는 스위치 위치들만 정점으로 만들어야 합니다. 스위치가 없는 칸은 어차피 도움이 안 됩니다. 예외적으로 첫칸과 끝칸은 중요하므로 스위치가 있다고 생각합니다. 
- 같은 열(행) 에 위치한 칸(거울세계의 칸) 은 서로 이동 가능합니다. 다만 이러면 간선이 너무 많아질 수 있으므로, 서로 가까운 칸들만 이어주는 방법을 씁니다. 이 방법은 [이 문제](https://www.acmicpc.net/problem/2887) 에서 대표적으로 쓰입니다.
- 스위치가 있으면 스위치를 눌러 원래의 집과 거울세계를 오갈수 있되, 비용 1을 지불하면 됩니다.
- 시작점 (1, 1) 이나 끝점 (M, N) 에 스위치가 있는 경우를 특히 주의해야 합니다. 특히, 앞서 스위치가 없더라도 (1, 1) 은 스위치가 있다고 간주했는데, 이 가상의 스위치를 누르고 가로방향으로 달려갈 수 없으므로 예외처리해야 합니다.
- 끝점의 경우, 원래 집의 끝점 뿐 아니라 거울세계의 끝점에 도착할 수도 있음을 주의해야 합니다.
</details>

<details> <summary markdown = span> <b>2021년 8월 2일 : <a href = "http://boj.kr/22357">BOJ 22357</a> 경품 추첨</b> </summary>
- UCPC 2021 예선 G번 
- 난이도 Platinum V
- $a_x + b_y = a_z + b_w$ 이기 위해서는 $a_x - a_z = b_w - b_y$ 이면 됩니다.
- 따라서, $n$개짜리 수열 $k$개를 만들되, 각 수열에서 두 수를 뽑아서 얻는 차 $\binom{n}{2}$ 개를 모두 만들어 볼 때 서로 겹쳐서는 안 됩니다.
- $2000 < p_i \leq 2500$ 을 만족하는 $k$ ($k \leq 30$)개의 소수 $p_1, \dots p_k$ 를 뽑습니다.
- $i$번째 수열을 $p_i, 2p_i, 3p_i, \dots 2000p_i$ 로 잡습니다.
- 이제, $i$번째 수열에서, 두 수의 차는 항상 $p_i$의 배수입니다. 특히 $kp_i$, $k \leq 2000$ 입니다. 
- $up_i = vp_j$ 이고, $u, v \leq 2000$ 이기 위해서는, $u$ 가 $p_j$의 배수이고 $v$가 $p_i$의 배수여야 하는데 $p$ 들은 2000을 넘으므로 이는 불가능합니다. 
</details>

<details> <summary markdown = span> <b>2021년 8월 3일 : <a href = "http://boj.kr/22358">BOJ 22358</a> 스키장</b> </summary>
- UCPC 2021 예선 H번 
- 난이도 Gold II 
- $(n, k)$, 즉 $n$번 정점에 오기까지 $k$번의 리프트를 사용한 상태 - 를 하나의 정점으로 취급합니다. 
- 이제, $((a, k), (b, k))$ 스키코스와 $((b, k), (a, k+1))$ 리프트가 됩니다.
- $(s, 0)$ 에서 $(t, k)$ 까지 가면서, `dp[(i, j)]` 를 $(i, j)$ 까지 오면서 타는 최대 스키 코스 길이로 정의하고 갱신합니다.
- 이렇게 만들어진 그래프는 DAG이므로, 정점 개수와 간선 개수에 선형으로 갱신 가능합니다.
- 정점과 간선은 $NK, MK$ 개이므로 $O((N + M)K)$ 시간에 풀립니다.
- 사실 실제로 그래프를 복사해서 만들 필요는 없고 dp만 잘 갱신해도 되지만, 전 귀찮아서 그냥 만들었습니다. 1초가 생각보다 빠듯해서 놀랐는데, 벡터 120만개를 만드는 시간이 꽤 긴듯 합니다.
</details>